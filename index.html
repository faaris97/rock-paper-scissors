<!DOCTYPE html>
<html>
    <head>
    <meta charset="UTF-8">
    <title>Rock, Paper, Scissors.</title>
    </head>
    <body>

    <script>
    let gameChoices = ['rock', 'paper', 'scissors'];

    function computerPlay () {
        let randomChoice = Math.floor(Math.random()*gameChoices.length);
        return gameChoices[randomChoice];
    }
    function playerSelection () {
        let choice = prompt('Rock, Paper or Scissors?');
        playerSelection = playerSelection.toLowerCase()
        return choice;
    }


    function playRound(playerSelection, computerSelection) {
        if (playerSelection === 'rock' && computerSelection === 'scissors' ||
        playerSelection === 'paper' && computerSelection === 'rock' ||
        playerSelection === 'scissors' && computerSelection === 'paper') {
        return 'You Win!' ;  
        } else if (computerSelection === 'rock' && playerSelection === 'scissors' ||
        computerSelection === 'paper' && playerSelection === 'rock' || 
        computerSelection === 'scissors' && playerSelection === 'paper') { 
            return 'You Loose!';
        }else{
            return 'Tie!'
        }
    }
    function game() {
        let playerScore = 0;
        let computerScore = 0;
        let round = 0;

        for (let i = 0; i < 5; i++) {
            const playerSelection = prompt('Rock, Paper or Scissors?');
            const computerSelection = computerPlay();
            console.log(`computer chose "${computerSelection}"`);
            const outputToConsole = playRound(playerSelection, computerSelection);
            console.log(outputToConsole);

            if (outputToConsole.includes('You Win!')) {
                playerScore++;
                round++;
            } else if (outputToConsole.includes('You Loose!')) {
                computerScore++;
                round++;
            }else{
                round++;
            }
        }

        if (playerScore > computerScore) {
            console.log('Congratulations, you win!');
        } else if (playerScore < computerScore) {
            console.log('Unlucky, better luck next time!');
        }else{
            console.log("It's a tie!");
        }
    }
            game();
    </script>
    </body>
</html>